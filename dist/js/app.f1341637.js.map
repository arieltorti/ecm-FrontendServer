{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?050d","webpack:///./src/components/Editor.vue?70df","webpack:///./src/components/editor/Param.vue?c2f3","webpack:///src/components/editor/Param.vue","webpack:///./src/components/editor/Param.vue?f107","webpack:///./src/components/editor/Param.vue","webpack:///./src/components/editor/Condition.vue?32bf","webpack:///src/components/editor/Condition.vue","webpack:///./src/components/editor/Condition.vue?633a","webpack:///./src/components/editor/Condition.vue","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?145f","webpack:///./src/components/Editor.vue","webpack:///./src/components/Simulation.vue?5476","webpack:///./src/constants.js","webpack:///src/components/Simulation.vue","webpack:///./src/components/Simulation.vue?4441","webpack:///./src/components/Simulation.vue","webpack:///./src/components/CurrentModel.vue?cbc8","webpack:///src/components/CurrentModel.vue","webpack:///./src/components/CurrentModel.vue?6860","webpack:///./src/components/CurrentModel.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","directives","rawName","expression","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","modelSelected","multiple","_l","model","domProps","_s","currentModel","_e","simulation","simulationState","SIM_STATE","INPROGRESS","simulate","currentSimulation","simCancel","handleSimStart","handleSimError","handleSimDone","handleSimCancel","staticRenderFns","modifiers","composing","$set","_n","$forceUpdate","comp","param","iterate","_q","paramUncheck","params","props","methods","component","initial_conditions","components","staticStyle","simState","staticClass","FAILED","errMsg","class","hidden","isNotDone","_m","downloadCSV","DONE","isMultiple","handleAnimClick","playing","CANCELED","NONE","SIMULATION_MODEL_KEY","graphLayout","yaxis","fixedrange","xaxis","title","graphHistoricData","stats","totalSteps","currentStep","abortSignal","computed","sim","watch","_sim","stop","abort","$emit","generateCSV","handleError","err","ABORT_ERR","code","json","then","_play","fromcurrent","transition","frame","_pause","intervals","_simulate","id","controller","headers","Accept","method","body","JSON","stringify","signal","req","makeGraphData","compartments","forEach","idx","observables","graphData","x","xAxis","y","index","_preciseRound","_getIndexAsString","dataFetchingDone","sliderSteps","label","args","frames","layout","config","plotConfig","getCurrentDate","pad","string","downloadLink","href","linkEl","setAttribute","document","appendChild","click","remove","plotData","csv","sampleTimes","row","URL","createObjectURL","CSVBlob","displaylogo","modeBarButtons","modeBarButtonsToRemove","arg","equations","out","expressions","beforeMount","fetchModels","mounted","mathjax","head","errorMsg","statusMsg","modelList","step","days","pendingChanges","modelVariables","keys","simulationModel","localStorage","setItem","current","default","stopSimulation","buildSimulation","resp","status","models","setTimeout","setError","setStatus","message","console","error","handleSubmit","values","Vue","productionTip","use","VueKatex","globalOptions","render","h","App","$mount"],"mappings":"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","file":"js/app.f1341637.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('fieldset',[_c('legend',[_vm._v(\"Choose a model:\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.modelSelected),expression:\"modelSelected\"}],attrs:{\"name\":\"model\",\"id\":\"model\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.modelSelected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.modelList),function(model,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(_vm._s(model.name))])}),0)]),(_vm.modelSelected)?_c('fieldset',[_c('CurrentModel',{attrs:{\"currentModel\":_vm.currentModel}})],1):_vm._e(),(_vm.modelSelected)?_c('Editor',{attrs:{\"model\":_vm.currentModel,\"simulation\":_vm.simulation}}):_vm._e(),(_vm.modelSelected)?_c('fieldset',[_c('legend',[_vm._v(\"Simulation\")]),_c('button',{attrs:{\"disabled\":_vm.simulationState === _vm.SIM_STATE.INPROGRESS},on:{\"click\":_vm.simulate}},[_vm._v(\"Simulate\")]),_c('Simulation',{attrs:{\"sim\":_vm.currentSimulation,\"sim-cancel\":_vm.simCancel,\"sim-state\":_vm.simulationState},on:{\"sim-start\":_vm.handleSimStart,\"sim-error\":_vm.handleSimError,\"sim-done\":_vm.handleSimDone,\"sim-cancel\":_vm.handleSimCancel}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fieldset',[_c('legend',[_vm._v(\"Simulation parameters\")]),_c('details',[_c('summary',[_vm._v(\"General\")]),_c('label',{attrs:{\"for\":\"days\"}},[_vm._v(\"Days:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.simulation.days),expression:\"simulation.days\",modifiers:{\"number\":true}}],attrs:{\"name\":\"days\",\"type\":\"number\"},domProps:{\"value\":(_vm.simulation.days)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.simulation, \"days\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":\"step\"}},[_vm._v(\"Step:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.simulation.step),expression:\"simulation.step\",modifiers:{\"number\":true}}],attrs:{\"name\":\"step\",\"type\":\"number\"},domProps:{\"value\":(_vm.simulation.step)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.simulation, \"step\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('details',[_c('summary',[_vm._v(\"Initial conditions\")]),_vm._l((_vm.model.compartments),function(comp){return _c('Condition',{key:comp.name,attrs:{\"comp\":comp,\"simulation\":_vm.simulation}})})],2),_c('details',[_c('summary',[_vm._v(\"Params\")]),_vm._l((_vm.model.params),function(param){return _c('Param',{key:param.name,attrs:{\"param\":param,\"simulation\":_vm.simulation}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('strong',[_c('span',{directives:[{name:\"katex\",rawName:\"v-katex\",value:(_vm.param.nameLatex),expression:\"param.nameLatex\"}]}),_vm._v(\": \")]),(_vm.param.iterable)?_c('div',[_c('label',{attrs:{\"for\":\"param\"}},[_vm._v(\"with range:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.simulation.iterate.key),expression:\"simulation.iterate.key\"}],attrs:{\"type\":\"radio\",\"id\":\"param\"},domProps:{\"value\":_vm.param.name,\"checked\":_vm._q(_vm.simulation.iterate.key,_vm.param.name)},on:{\"click\":function($event){return _vm.paramUncheck(_vm.param.name)},\"change\":function($event){return _vm.$set(_vm.simulation.iterate, \"key\", _vm.param.name)}}})]):_vm._e(),(_vm.simulation.iterate.key == _vm.param.name)?_c('div',[_c('label',{attrs:{\"for\":_vm.param + 'Start'}},[_vm._v(\"Start:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.simulation.iterate.start),expression:\"simulation.iterate.start\",modifiers:{\"number\":true}}],attrs:{\"id\":_vm.param + 'Start',\"type\":\"number\"},domProps:{\"value\":(_vm.simulation.iterate.start)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.simulation.iterate, \"start\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":_vm.param + 'End'}},[_vm._v(\"End:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.simulation.iterate.end),expression:\"simulation.iterate.end\",modifiers:{\"number\":true}}],attrs:{\"id\":_vm.param + 'End',\"type\":\"number\"},domProps:{\"value\":(_vm.simulation.iterate.end)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.simulation.iterate, \"end\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":_vm.param + 'Intervals'}},[_vm._v(\"Intervals:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.simulation.iterate.intervals),expression:\"simulation.iterate.intervals\",modifiers:{\"number\":true}}],attrs:{\"id\":_vm.param + 'Intervals',\"type\":\"number\"},domProps:{\"value\":(_vm.simulation.iterate.intervals)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.simulation.iterate, \"intervals\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]):_c('div',[_c('label',{attrs:{\"for\":_vm.param}},[_vm._v(\"Value:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.simulation.params[_vm.param.name]),expression:\"simulation.params[param.name]\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"id\":_vm.param},domProps:{\"value\":(_vm.simulation.params[_vm.param.name])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.simulation.params, _vm.param.name, _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <strong>\n      <span v-katex=\"param.nameLatex\"></span>:\n    </strong>\n    <div v-if=\"param.iterable\">\n      <label for=\"param\">with range:</label>\n      <input\n        type=\"radio\"\n        v-model=\"simulation.iterate.key\"\n        id=\"param\"\n        :value=\"param.name\"\n        @click=\"paramUncheck(param.name)\"\n      />\n    </div>\n    <div v-if=\"simulation.iterate.key == param.name\">\n      <label :for=\"param + 'Start'\">Start:</label>\n      <input v-model.number=\"simulation.iterate.start\" :id=\"param + 'Start'\" type=\"number\" />\n      <label :for=\"param + 'End'\">End:</label>\n      <input v-model.number=\"simulation.iterate.end\" :id=\"param + 'End'\" type=\"number\" />\n      <label :for=\"param + 'Intervals'\">Intervals:</label>\n      <input v-model.number=\"simulation.iterate.intervals\" :id=\"param + 'Intervals'\" type=\"number\" />\n    </div>\n    <div v-else>\n      <label :for=\"param\">Value:</label>\n      <input v-model.number=\"simulation.params[param.name]\" type=\"number\" :id=\"param\" />\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: [\"param\", \"simulation\"],\n  methods: {\n    paramUncheck: function(val) {\n      if (this.simulation.iterate.key == val) {\n        this.simulation.iterate.key = null;\n      }\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Param.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Param.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Param.vue?vue&type=template&id=5513bc9c&\"\nimport script from \"./Param.vue?vue&type=script&lang=js&\"\nexport * from \"./Param.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{attrs:{\"for\":_vm.comp}},[_c('span',{directives:[{name:\"katex\",rawName:\"v-katex\",value:(_vm.comp.initLatex),expression:\"comp.initLatex\"}]}),_vm._v(\": \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.simulation.initial_conditions[_vm.comp.name]),expression:\"simulation.initial_conditions[comp.name]\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.simulation.initial_conditions[_vm.comp.name])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.simulation.initial_conditions, _vm.comp.name, _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <label :for=\"comp\">\n      <span v-katex=\"comp.initLatex\"></span>:\n    </label>\n    <input v-model.number=\"simulation.initial_conditions[comp.name]\" type=\"number\" />\n  </div>\n</template>\n<script>\nexport default {\n  props: [\"comp\", \"simulation\"]\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Condition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Condition.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Condition.vue?vue&type=template&id=6ec30b68&\"\nimport script from \"./Condition.vue?vue&type=script&lang=js&\"\nexport * from \"./Condition.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <fieldset>\n    <legend>Simulation parameters</legend>\n    <details>\n      <summary>General</summary>\n      <label for=\"days\">Days:</label>\n      <input name=\"days\" v-model.number=\"simulation.days\" type=\"number\" />\n\n      <label for=\"step\">Step:</label>\n      <input name=\"step\" v-model.number=\"simulation.step\" type=\"number\" />\n    </details>\n    <details>\n      <summary>Initial conditions</summary>\n      <Condition\n        v-for=\"comp in model.compartments\"\n        :key=\"comp.name\"\n        :comp=\"comp\"\n        :simulation=\"simulation\"\n      />\n    </details>\n    <details>\n      <summary>Params</summary>\n      <Param\n        v-for=\"param in model.params\"\n        :key=\"param.name\"\n        :param=\"param\"\n        :simulation=\"simulation\"\n      />\n    </details>\n  </fieldset>\n</template>\n<script>\nimport Param from \"./editor/Param.vue\";\nimport Condition from \"./editor/Condition.vue\";\nexport default {\n  props: [\"model\", \"simulation\"],\n  components: { Param, Condition }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=23874481&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\"}},[(_vm.simState === _vm.SIM_STATE.INPROGRESS)?_c('div',{staticClass:\"progress\"},[_vm._v(\"Simulating\")]):_vm._e(),(_vm.simState === _vm.SIM_STATE.FAILED)?_c('div',{staticClass:\"errorMsg\"},[_vm._v(\"Error: \"+_vm._s(_vm.errMsg))]):_vm._e(),_c('div',{class:{ hidden: _vm.isNotDone }},[_vm._m(0),_c('button',{attrs:{\"id\":\"downloadCSV\"},on:{\"click\":_vm.downloadCSV}},[_vm._v(\"Download CSV\")])]),(_vm.simState === _vm.SIM_STATE.DONE && _vm.isMultiple)?_c('div',{attrs:{\"id\":\"plotAnimDiv\"}},[_c('button',{on:{\"click\":_vm.handleAnimClick}},[_vm._v(_vm._s(_vm.playing ? \"| |\" : \"▶\"))])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"plotDiv\"}})}]\n\nexport { render, staticRenderFns }","\"use strict\";\n\nexport const defaultIterConfig = {\n  from: 0,\n  to: 1,\n  step: 0.05,\n  iteratingVariable: null,\n};\n\nexport const SIM_STATE = {\n  DONE: 0,\n  INPROGRESS: 1,\n  CANCELED: 2,\n  FAILED: 3,\n  NONE: 4\n};\n\n/** Name of the LocalStorage keys */\nexport const SIMULATION_MODEL_KEY = \"simulationModel\";\nexport const SIMULATION_CONFIG_KEY = \"simulationConfig\";\n\nexport const graphLayout = {\n  yaxis: { fixedrange: true }, // Dont allow rectangle zooming\n  xaxis: {\n    title: \"Days\",\n  },\n};\n","<template>\n  <div style=\"position: relative\">\n    <div class=\"progress\" v-if=\"simState === SIM_STATE.INPROGRESS\">Simulating</div>\n    <div class=\"errorMsg\" v-if=\"simState === SIM_STATE.FAILED\">Error: {{ errMsg }}</div>\n    <div v-bind:class=\"{ hidden: isNotDone }\">\n      <div id=\"plotDiv\" v-once></div>\n      <button id=\"downloadCSV\" @click=\"downloadCSV\">Download CSV</button>\n    </div>\n    <div v-if=\"simState === SIM_STATE.DONE && isMultiple\" id=\"plotAnimDiv\">\n      <button @click=\"handleAnimClick\">{{ playing ? \"| |\" : \"▶\" }}</button>\n    </div>\n  </div>\n</template>\n<script>\nimport { SIM_STATE, graphLayout } from \"../constants.js\";\nimport * as Plotly from \"plotly.js\";\n\nexport default {\n  props: [\"sim\", \"simCancel\", \"simState\"],\n  data: function() {\n    return {\n      SIM_STATE: SIM_STATE,\n      graphHistoricData: [],\n      stats: {\n        totalSteps: null,\n        currentStep: null\n      },\n      errMsg: \"\",\n      abortSignal: null, // Stores the signal to abort the current request\n      playing: false\n    };\n  },\n  computed: {\n    isMultiple: function() {\n      return this.sim && this.sim.simulation.iterate.key != null;\n    },\n    isNotDone: function() {\n      return this.simState !== SIM_STATE.DONE;\n    }\n  },\n  watch: {\n    sim: function(_sim) {\n      _sim != null && this.simulate();\n    },\n    simCancel: function(stop) {\n      if (stop) {\n        this.abortSignal.abort();\n        this.$emit(\"sim-cancel\");\n      }\n    }\n  },\n  methods: {\n    downloadCSV: function() {\n      generateCSV(this.graphHistoricData, this.isMultiple);\n    },\n    handleError: function(err) {\n      if (err.ABORT_ERR && err.code === err.ABORT_ERR) {\n        this.$emit(\"sim-cancel\");\n      } else {\n        err.json().then(e => {\n          this.errMsg = e.error;\n        });\n        this.$emit(\"sim-error\");\n      }\n    },\n\n    stop: function() {},\n\n    _play: function() {\n      Plotly.animate(\"plotDiv\", null, {\n        mode: \"immediate\",\n        fromcurrent: true,\n        transition: { duration: 300 },\n        frame: { duration: 500, redraw: false }\n      }).then(() => (this.playing = false));\n    },\n    _pause: function() {\n      Plotly.animate(\"plotDiv\", [null], {\n        mode: \"immediate\",\n        fromcurrent: true,\n        transition: { duration: 0 },\n        frame: { duration: 0, redraw: false }\n      });\n    },\n\n    handleAnimClick: function() {\n      if (this.playing) {\n        this._pause();\n      } else {\n        this._play();\n      }\n      this.playing = !this.playing;\n    },\n\n    simulate: function() {\n      if (this.sim == null) {\n        return;\n      }\n\n      this.$emit(\"sim-start\");\n      this.graphHistoricData = [];\n\n      const simulation = JSON.parse(JSON.stringify(this.sim.simulation));\n      if (this.isMultiple) {\n        if (this.sim.simulation.iterate.intervals === 0) {\n          return;\n        }\n      } else {\n        delete simulation.iterate;\n      }\n      this._simulate(simulation, this.sim.model.id)\n        .then(() => this.dataFetchingDone())\n        .catch(err => this.handleError(err));\n    },\n    _simulate: function(simulation, modelId) {\n      const controller = new AbortController();\n      const signal = controller.signal;\n      this.abortSignal = controller;\n\n      const req = fetch(`/simulate/${modelId}`, {\n        headers: {\n          Accept: \"application/json, text/plain, */*\",\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify(simulation),\n        signal\n      });\n\n      return req\n        .then(resp => {\n          if (resp.status >= 400 && resp.status < 600) {\n            throw resp;\n          }\n          return resp.json();\n        })\n        .then(response => {\n          if (response.type === \"multiple\") {\n            response.frames.forEach((d, i) => {\n              const graphData = this.makeGraphData(d);\n              graphData._iterVal = this._preciseRound(response.param.values[i],2);\n              this.graphHistoricData.push(graphData);\n            });\n          } else {\n            const graphData = this.makeGraphData(response.frame);\n\n            graphData._iterVal = 0;\n            this.graphHistoricData.push(graphData);\n          }\n        });\n    },\n    /**\n     * Extract graph data from JSON request output\n     * @param {*} data\n     */\n    makeGraphData(data) {\n      this.sim.model.compartments.forEach(function(c) {\n        const idx = data.index.findIndex(e => e == c.name);\n        if (idx >= 0)\n          data.index[idx] = `$${c.nameLatex}$`;\n      });\n      this.sim.model.observables.forEach(function(c) {\n        const idx = data.index.findIndex(e => e == c.name);\n        if (idx >= 0)\n          data.index[idx] = `$${c.nameLatex}$`;\n      });\n\n      const xAxis = data.columns;\n      const graphData = [];\n\n      for (let i = 0; i < data.data.length; i++) {\n        graphData.push({\n          x: xAxis,\n          y: data.data[i],\n          name: data.index[i]\n        });\n      }\n\n      return graphData;\n    },\n    /** Precisely rounds number based on the number of significant decimal places */\n    _preciseRound: function(number, presicion = 7) {\n      return (\n        Math.round((number + Number.EPSILON) * Math.pow(10, presicion)) /\n        Math.pow(10, presicion)\n      );\n    },\n    _getIndexAsString: function(i) {\n      return `${this.graphHistoricData[i]._iterVal || i}`;\n    },\n    dataFetchingDone: function() {\n      /**\n       * We have a ton of boilerplate here just to configure the slider and animations\n       * as we have to rebuild them all everytime the data changes. In the future we could\n       * migrate to using addFrames and resize/relayout instead.\n       */\n\n      this.$emit(\"sim-done\");\n\n      // Configure the number and style of the slider steps\n      var sliderSteps = [];\n      for (let i = 0; i < this.graphHistoricData.length; i++) {\n        sliderSteps.push({\n          method: \"animate\",\n          label: this._getIndexAsString(i), // Convert to string, plotly behaves weird\n          // when using floats.\n          args: [\n            [this._getIndexAsString(i)],\n            {\n              mode: \"next\",\n              transition: { duration: 400, easing: \"linear\" },\n              frame: { duration: 800, redraw: true }\n            }\n          ]\n        });\n      }\n\n      const slider = [\n        {\n          pad: { l: 130, t: 55 },\n          steps: sliderSteps\n        }\n      ];\n\n      var frames = [];\n      for (let i = 0; i < this.graphHistoricData.length; i++) {\n        frames.push({\n          name: this._getIndexAsString(i),\n          data: this.graphHistoricData[i]\n        });\n      }\n\n      // Plotly mutates the initial data given, hence not allowing us to animate back\n      // to the initial frame. We deeply copy the initial data object to avoid this issue.\n      const data = JSON.parse(JSON.stringify(this.graphHistoricData[0]));\n\n      Plotly.newPlot(\"plotDiv\", {\n        data: data,\n        layout: { ...graphLayout, sliders: slider },\n        frames: frames,\n        config: plotConfig\n      });\n    }\n  }\n  // We use v-once on the #plotDiv element to avoid vue re-rendering it and disrupting plotly\n};\n\n/**\n * Returns current date formatted as YYYYmmdd-HHMMss\n */\nfunction getCurrentDate() {\n  function pad(string) {\n    return (`0${string}`).slice(0, 2);\n  }\n\n  const now = new Date();\n  const month = pad(now.getMonth() + 1);\n  const day = pad(now.getDate());\n  const hours = pad(now.getHours());\n  const minutes = pad(now.getMinutes());\n  const seconds = pad(now.getSeconds());\n  return `${now.getUTCFullYear()}${month}${day}-${hours}${minutes}${seconds}`;\n}\n\nfunction downloadLink(href) {\n  const linkEl = document.createElement(\"a\");\n  linkEl.setAttribute(\"href\", href);\n  linkEl.setAttribute(\"download\", `sim-${getCurrentDate()}.csv`);\n\n  document.body.appendChild(linkEl);\n  linkEl.click();\n  linkEl.remove();\n}\n\n/**\n * Generates transposed CSV content\n *\n * @param {*} plotData\n * @param {*} isMultiple\n */\nfunction generateCSV(plotData, isMultiple = false) {\n  let csv = `sampletimes,${plotData[0].map((x) => x.name).join(',')}\\n`;\n  if (isMultiple) {\n    csv = `iteration,${csv}`;\n  }\n\n  plotData.forEach(frame => {\n    const sampleTimes = frame[0].x;\n    const data = frame.map((x) => x.y);\n    sampleTimes.forEach((sample, i) => {\n      let row = `${sample},${data.map((x) => x[i]).join(',')}\\n`;\n      if (isMultiple) {\n        row =`${frame._iterVal},${row}`;\n      }\n      csv += row;\n    });\n  });\n  const CSVBlob = new Blob([csv], { type: \"text/csv\" });\n  downloadLink(window.URL.createObjectURL(CSVBlob));\n}\n\nconst plotConfig = {\n  displaylogo: false,\n  modeBarButtons: [\n    [\n      \"toImage\",\n      \"zoom2d\",\n      \"zoomIn2d\",\n      \"zoomOut2d\",\n      \"autoScale2d\",\n      \"hoverClosestCartesian\",\n      \"hoverCompareCartesian\"\n    ]\n  ],\n  modeBarButtonsToRemove: [\"pan2d\", \"resetScale2d\", \"sendDataToCloud\"]\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Simulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Simulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Simulation.vue?vue&type=template&id=8cf9e8b8&\"\nimport script from \"./Simulation.vue?vue&type=script&lang=js&\"\nexport * from \"./Simulation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('legend',[_vm._v(\"Model Details\")]),_c('h4',[_vm._v(\"Equations\")]),_c('div',{directives:[{name:\"katex\",rawName:\"v-katex:display\",value:(_vm.equations),expression:\"equations\",arg:\"display\"}]}),(_vm.currentModel.expressions)?_c('div',[_c('h4',[_vm._v(\"Where\")]),_c('div',{directives:[{name:\"katex\",rawName:\"v-katex:display\",value:(_vm.expressions),expression:\"expressions\",arg:\"display\"}]}),_c('div',{directives:[{name:\"katex\",rawName:\"v-katex:display\",value:(_vm.observables),expression:\"observables\",arg:\"display\"}]})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <legend>Model Details</legend>\n    <h4>Equations</h4>\n    <div v-katex:display=\"equations\"></div>\n    <div v-if=\"currentModel.expressions\">\n      <h4>Where</h4>\n      <div v-katex:display=\"expressions\"></div>\n      <div v-katex:display=\"observables\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  computed: {\n    equations: function() {\n      let out = \"\";\n      if (this.currentModel.equations) {\n        out += \"\\\\begin{aligned}\";\n        this.currentModel.equations.forEach(eq => {\n          out += `${eq.nameLatex} = & ${eq.valueLatex}\\\\\\\\`;\n        });\n        out += \"\\\\end{aligned}\";\n      }\n      return out;\n    },\n    expressions: function() {\n      let out = \"\";\n      if (this.currentModel.expressions) {\n        out += \"\\\\begin{aligned}\";\n        this.currentModel.expressions.forEach(expr => {\n          out += `${expr.nameLatex} = & ${expr.valueLatex}\\\\\\\\`;\n        });\n        out += \"\\\\end{aligned}\";\n      }\n      return out;\n    },\n    observables: function() {\n      let out = \"\";\n      if (this.currentModel.observables) {\n        out += \"\\\\begin{aligned}\";\n        this.currentModel.observables.forEach(expr => {\n          out += `${expr.nameLatex} = & ${expr.valueLatex}\\\\\\\\`;\n        });\n        out += \"\\\\end{aligned}\";\n      }\n      return out;\n    }\n  },  \n  props: [\"currentModel\"]\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CurrentModel.vue?vue&type=template&id=94521d5a&\"\nimport script from \"./CurrentModel.vue?vue&type=script&lang=js&\"\nexport * from \"./CurrentModel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" v-cloak>\n    <fieldset>\n      <legend>Choose a model:</legend>\n      <select name=\"model\" id=\"model\" v-model=\"modelSelected\">\n        <option v-for=\"(model, key) in modelList\" :key=\"key\" :value=\"key\">{{ model.name }}</option>\n      </select>\n    </fieldset>\n    <fieldset v-if=\"modelSelected\">\n      <CurrentModel :currentModel=\"currentModel\" />\n    </fieldset>\n\n    <Editor v-if=\"modelSelected\" :model=\"currentModel\" :simulation=\"simulation\" />\n\n    <fieldset v-if=\"modelSelected\">\n      <legend>Simulation</legend>\n      <button\n        :disabled=\"simulationState === SIM_STATE.INPROGRESS\"\n        @click=\"simulate\"\n      >Simulate</button>\n\n      <Simulation\n        :sim=\"currentSimulation\"\n        :sim-cancel=\"simCancel\"\n        :sim-state=\"simulationState\"\n        @sim-start=\"handleSimStart\"\n        @sim-error=\"handleSimError\"\n        @sim-done=\"handleSimDone\"\n        @sim-cancel=\"handleSimCancel\"\n      />\n    </fieldset>\n  </div>\n</template>\n\n<script>\nimport Editor from \"./components/Editor.vue\";\nimport Simulation from \"./components/Simulation.vue\";\nimport CurrentModel from \"./components/CurrentModel.vue\";\n\nimport { SIM_STATE, SIMULATION_MODEL_KEY } from \"./constants.js\";\nexport default {\n  beforeMount() {\n    this.fetchModels();\n  },\n  mounted() {\n    let mathjax = document.createElement('script')\n    mathjax.setAttribute('src', 'https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG')\n    document.head.appendChild(mathjax)\n  },\n  data: function() {\n    return {\n      SIM_STATE: SIM_STATE, // Declare enum variable so vue can access it on the template\n\n      simulationState: SIM_STATE.NONE,\n      errorMsg: null,\n      statusMsg: null,\n      modelList: {},\n      currentModel: {},\n      modelSelected: 1,\n      simulation: {\n        step: 1,\n        days: 365,\n        initial_conditions: {},\n        params: {},\n        iterate: { key: null, start: 0, end: 1, intervals: 10 }\n      },\n      currentSimulation: null,\n      simCancel: false,\n      pendingChanges: true\n    };\n  },\n  components: { Simulation, Editor, CurrentModel },\n  computed: {\n    modelVariables: function() {\n      return Object.keys(this.simulation.params);\n    }\n  },\n  watch: {\n    simulationModel: function(val) {\n      this.pendingChanges = true;\n      localStorage.setItem(SIMULATION_MODEL_KEY, val);\n    },\n    modelSelected: function(val) {\n      this.simulationState = SIM_STATE.NONE;\n      const current =\n        val in this.modelList\n          ? this.modelList[val]\n          : { params: [], compartments: [] };\n      const simulation = this.simulation;\n\n      current.compartments.forEach(comp => {\n        simulation.initial_conditions[comp.name] = comp.default;\n      });\n      current.params.forEach(param => {\n        simulation.params[param.name] = param.default;\n      });\n      this.simulation = simulation;\n      this.currentModel = current;\n\n      return current;\n    }\n  },\n\n  methods: {\n    simulate: function() {\n      if (this.simulationState === SIM_STATE.INPROGRESS) {\n        this.stopSimulation();\n      } else {\n        this.buildSimulation();\n      }\n    },\n\n    fetchModels: function() {\n      const req = fetch(\"/api/models/\");\n      req.then(resp => {\n        if (resp.status >= 400 && resp.status < 600) {\n          throw resp;\n        }\n        resp.json().then(json => {\n          json.models.forEach(element => {\n            this.modelList[element.id] = element;\n          });\n          this.modelSelected = 0;\n        });\n      });\n    },\n    buildSimulation: function() {\n      // Make all objects given to the simulation inmutable, as they're all bound to vue changes.\n      this.currentSimulation = {\n        model: this.currentModel,\n        simulation: this.simulation\n      };\n      setTimeout(() => {\n        this.pendingChanges = false;\n      }, 0); // Wrap in timeout, otherwise Vue doesn't take this change into account\n    },\n    stopSimulation: function() {\n      this.simCancel = true;\n    },\n    setError: function(message) {\n      this.errorMsg = `[ERROR]: ${message}`;\n      this.statusMsg = null;\n    },\n    setStatus: function(message) {\n      this.errorMsg = null;\n      this.statusMsg = message;\n    },\n\n    handleError: function(error) {\n      console.error(error);\n      this.setError(error.message);\n    },\n    handleSubmit: function(values) {\n      if (this.simulationState === SIM_STATE.INPROGRESS) {\n        this.stopSimulation();\n      } else {\n        this.buildSimulation(values);\n      }\n    },\n    handleSimStart: function() {\n      this.simulationState = SIM_STATE.INPROGRESS;\n    },\n    handleSimError: function() {\n      this.simulationState = SIM_STATE.FAILED;\n    },\n    handleSimDone: function() {\n      this.simulationState = SIM_STATE.DONE;\n    },\n    handleSimCancel: function() {\n      this.simulationState = SIM_STATE.CANCELED;\n      this.simCancel = false;\n    }\n  }\n};\n</script>\n<style lang=\"css\">\n@import url(\"https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/light.min.css\");\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n#container {\n  display: flex;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n#container .inputContainer {\n  margin: 1em;\n  width: 100%;\n  box-sizing: border-box;\n  height: 400px;\n  display: flex;\n  flex-direction: column;\n}\n\n#container .inputContainer label {\n  display: block;\n}\n\n#container .inputContainer textarea {\n  width: 100%;\n  flex: 1;\n}\n\n#errorMsg {\n  color: red;\n  display: block;\n}\n\n.variable-selector div.option {\n  display: inline-block;\n  margin: 0 0.8em;\n}\n\n#plotAnimDiv {\n  /* This is a hack, TODO: look on plotly doc is there's a way to insert a DOM element as button for a better way to position this */\n  position: absolute;\n  bottom: 36px;\n  left: 120px;\n}\n\n#plotAnimDiv button {\n  padding: 0.6em 0.8em;\n}\n\n.slider-grip-rect {\n  fill: #ff4242 !important;\n}\n\n/* Prevents the flash of unitialized vue instance */\n[v-cloak] {\n  display: none;\n}\n\n.interval-config label {\n  display: inline-block !important;\n  width: 4em;\n  text-align: right;\n}\n\n.interval-config input {\n  display: inline-block !important;\n  width: 6em;\n}\n\n.hidden {\n  display: none;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=32fae846&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport VueKatex from 'vue-katex';\nimport 'katex/dist/katex.min.css';\n\nVue.config.productionTip = false\n\nVue.use(VueKatex, {\n  globalOptions: {\n    //... Define globally applied KaTeX options here\n  }\n});\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}